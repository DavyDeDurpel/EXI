<!DOCTYPE html>
<html>

<head>
<title>ExiSAXS</title>
<link rel="stylesheet" type="text/css"
	href="js/ext/build/packages/ext-theme-crisp/build/resources/ext-theme-crisp-all.css">

<script type="text/javascript" src="js/ext/build/ext-all.js"></script>
<script type="text/javascript"
	src="js/ext/build/packages/ext-theme-crisp/build/ext-theme-crisp.js"></script>

<script type="text/javascript" src="js/dependency/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="js/dependency/jquery.cookie.js"></script>
<script type="text/javascript" src="js/dependency/moment.min.js"></script>


<script type="text/javascript" src="js/data/dataadapter.js"></script>
<script type="text/javascript" src="js/app/exisaxs.js"></script>
<script type="text/javascript" src="js/menu/mainmenu.js"></script>

<script type="text/javascript" src="js/event.js"></script>
<script type="text/javascript" src="js/user/authenticationform.js"></script>

<script type="text/javascript"
	src="js/controller/authenticationcontroller.js"></script>
<script type="text/javascript"
	src="js/controller/dataexplorercontroller.js"></script>

<script type="text/javascript" src="js/navigation/navigationlistview.js"></script>
<script type="text/javascript" src="js/navigation/sessionlistview.js"></script>
<script type="text/javascript" src="js/navigation/experimentlistview.js"></script>
<script type="text/javascript"
	src="js/navigation/macromoleculelistview.js"></script>

<script type="text/javascript" src="js/main/mainview.js"></script>
<script type="text/javascript" src="js/main/sessionmainview.js"></script>
<script type="text/javascript" src="js/main/experimentmainview.js"></script>
<script type="text/javascript" src="js/main/datacollectionmainview.js"></script>
<script type="text/javascript" src="js/main/macromoleculemainview.js"></script>
<script type="text/javascript" src="js/main/primarydatamainview.js"></script>
<script type="text/javascript" src="js/main/mergemainview.js"></script>

<script type="text/javascript" src="js/util/progressbar.js"></script>

<script type="text/javascript" src="js/widget/plot/curveplotter.js"></script>

<script type="text/javascript" src="js/widget/grid/queuegrid.js"></script>
<script type="text/javascript" src="js/widget/grid/frameselectorgrid.js"></script>
<script type="text/javascript" src="js/widget/form/datareductionform.js"></script>
<script type="text/javascript" src="js/bui.js"></script>


<script type="text/javascript"
	src="http://pc593.embl.fr:8082/dygraphs-master/dygraph-dev.js"></script>

<script type="text/javascript"
	src="http://pc593.embl.fr:8082/dev/pathjs/path.js"></script>

<script type="text/javascript" src="js/app/appcontroller.js"></script>

<link rel="stylesheet" type="text/css" href="css/logger.css">
<link rel="stylesheet" type="text/css" href="css/override.css">
</head>

<script>
	var exiSAXS;
	Ext.onReady(function(){
		Ext.Loader.setConfig({
		    enabled: true
		});

		Ext.Loader.setPath('Ext.ux', 'js/ext/examples/ux/');

		Ext.require([
		  'Ext.ux.statusbar.StatusBar',
		]);

		exiSAXS = new ExiSAXS();
		exiSAXS.show();

	
		exiSAXS.onAfterRender.attach(function(){
			// This line is used to start the PathJS listener.  It's good practice to put this
	        // call inside some sort of "document ready" listener, in case the default route
	        // relies on DOM elements that may not yet be ready.
	     	Path.listen();
				
		});

		// Adding popstate event listener to handle browser back button  
		window.addEventListener("popstate", function(e) {
			
			console.log(location.hash);
			
		});


// 		var d1 = $.ajax({
// 			  url: "http://pc593.embl.fr:8080/ispyb-ws/rest/540e26188e608d3b699c077d49acf530a05ecbc8/saxs/opd29/frame/datplot?frame=994590,994616",
// 			  type: 'get',
// 			  error: function(data){
// 				  console.log("ERROR:" + data)
// 			  }
// 			});
// 		var d2 = $.ajax({
// 			  url: "http://pc593.embl.fr:8080/ispyb-ws/rest/540e26188e608d3b699c077d49acf530a05ecbc8/saxs/opd29/datacollection/listsdfs",
// 			  type: 'get',
// 			  error: function(data){
// 				  console.log("ERROR:" + data)
// 			  }
// 			});

		
// 		$.when(	d1,	d2).then(
// 				function(data2, status, d3, d4){
// 				debugger

// 			},
// 			function(data2, status, d3, d4){
// 				debugger
// 			});

	});
</script>

<body>

</body>
</html>
